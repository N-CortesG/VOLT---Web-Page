---
import ContactForm from '../../components/ContactForm.astro';
import Hero from '../../components/Hero.astro';
import Layout from '@layouts/Layout.astro';
import { getTranslation } from '@i18n/index';
import socialLinks from 'src/data/socialLinks';

const lang = Astro.params.lang;
const currentLang = lang === 'es' || lang === 'en' ? lang : 'es';
const t = getTranslation(currentLang);

export async function getStaticPaths() {
  return [{ params: { lang: 'es' } }, { params: { lang: 'en' } }];
}
---

<Layout title={`VOLT Solar Energy | ${t.header.contact}`}>
  <Hero
    title={t.contact.title}
    subtitle={t.contact.subtitle}
    image="/img/img_3.jpg"
    lang={currentLang}
    t={t}
  />

  <section class="bg-background-secondary dark:bg-dark-secondary py-16 px-4 md:px-12 lg:px-20">
    <div class="max-w-3xl mx-auto text-center mt-12 mb-8 px-4">
      <h2 class="text-4xl md:text-5xl font-extrabold text-green-dark dark:text-green-light">
        {t.contact.title2}
      </h2>
      <p class="mt-4 text-lg md:text-xl text-text-secondary dark:text-dark-text-secondary">
        {t.contact.description}
      </p>
    </div>

    <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 items-stretch">
      <!-- Formulario -->
      <div
        class="bg-background-secondary dark:bg-dark-secondary rounded-xl shadow-lg border border-line dark:border-dark-line flex-1 flex flex-col justify-between"
      >
        <ContactForm t={t} />
      </div>

      <!-- InformaciÃ³n de contacto -->
      <div
        class="bg-background dark:bg-dark-background p-8 rounded-xl border border-line dark:border-dark-line shadow-lg flex-1 flex flex-col justify-between text-center"
      >
        <div>
          <h3 class="text-2xl font-extrabold text-green-dark dark:text-green-light mb-4">
            {t.contact.info.heading}
          </h3>
          <p class="text-text-secondary dark:text-dark-text-secondary mb-6">
            {t.contact.info.description}
          </p>

          <a
            href={socialLinks.whatsapp}
            target="_blank"
            rel="noopener"
            class="mx-auto mt-6 inline-flex items-center justify-center gap-3 px-6 py-4 text-lg bg-green-dark hover:bg-green-light dark:bg-dark-green-light dark:hover:bg-dark-green-dark text-white font-semibold rounded-lg transition-colors"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5"
              viewBox="0 0 24 24"
              fill="currentColor"
            >
              <path
                d="M20.52 3.48A11.94 11.94 0 0012 0C5.37 0 .02 5.35 0 12a11.93 11.93 0 001.62 6L0 24l6.37-1.67a11.96 11.96 0 005.63 1.44c6.63 0 12-5.35 12-12 0-3.2-1.25-6.22-3.48-8.52zM12 22c-1.84 0-3.6-.5-5.15-1.45l-.37-.22-3.78.99 1-3.69-.24-.39A10.02 10.02 0 012 12c0-5.52 4.48-10 10-10s10 4.48 10 10-4.48 10-10 10zm5.2-7.54c-.29-.15-1.72-.85-1.98-.95-.27-.1-.47-.15-.67.15s-.77.95-.94 1.15c-.17.2-.34.22-.63.08-.29-.15-1.23-.45-2.35-1.43-.87-.78-1.45-1.74-1.62-2.03-.17-.3-.02-.46.13-.61.14-.14.29-.34.43-.5.14-.17.19-.29.29-.48.1-.19.05-.36-.02-.5-.07-.14-.67-1.61-.91-2.21-.24-.57-.48-.5-.66-.51-.17-.01-.36-.01-.55-.01s-.5.07-.76.36c-.26.29-1 1-.98 2.43s1.03 2.82 1.17 3.01c.14.2 2.03 3.1 4.93 4.35.69.3 1.22.48 1.64.61.69.22 1.31.19 1.8.11.55-.08 1.72-.7 1.96-1.37.24-.67.24-1.24.17-1.37-.07-.13-.26-.21-.55-.36z"
              ></path>
            </svg>
            {t.contact.info.submit}
          </a>
        </div>

        <div class="mt-6">
          <p class="text-lg font-semibold text-text-primary dark:text-dark-text-primary">
            {t.contact.info.phone}
          </p>
          <p class="text-xl font-bold text-green-dark dark:text-green-light">{socialLinks.phone}</p>
          <p class="text-sm text-text-secondary dark:text-dark-text-secondary mt-2">
            {t.contact.info.hoursDetail}
          </p>
        </div>
      </div>
    </div>

    <div class="max-w-3xl mx-auto text-center mt-12 mb-8 px-4">
      <h2 class="text-4xl md:text-5xl font-extrabold text-green-dark dark:text-green-light">
        {t.contact.info.questions}
      </h2>
    </div>
  </section>
</Layout>
