---
import ThemeToggle from '../ThemeToggle';
import logo from '../../assets/logo.svg';

const currentPath = Astro.url.pathname;
---

<div class="flex items-center justify-between relative">
  <a href="/" class="absolute left-1/2 transform -translate-x-1/2">
    <img src={logo.src} alt="Logo de Volt Solar Energy" class="h-10" />
  </a>

  <button
    class="flex items-center px-3 py-2 border rounded z-10 transition-colors duration-300
           text-text-primary border-line hover:bg-yellow-light/20
           dark:text-dark-text-primary dark:border-dark-line dark:hover:bg-dark-yellow-light/20
           bg-white dark:bg-dark-secondary"
    onclick="const menu = document.getElementById('mobile-menu'); menu.classList.toggle('hidden'); menu.classList.toggle('opacity-0'); menu.classList.toggle('translate-y-[-10px]')"
  >
    <svg class="fill-current h-4 w-4" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
      <title>Menu</title>
      <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path>
    </svg>
  </button>
</div>

<div
  id="mobile-menu"
  class="hidden opacity-0 translate-y-[-10px] transition-all duration-300 ease-in-out px-4 mt-4"
>
  <nav>
    <ul class="flex flex-col gap-2">
      <li>
        <a
          href="/"
          onclick="document.getElementById('mobile-menu').classList.add('hidden', 'opacity-0', 'translate-y-[-10px]')"
          class="block px-4 py-2 rounded-md hover:bg-yellow-light/20 dark:hover:bg-dark-yellow-light/20"
          >Sobre Nosotros</a
        >
      </li>
      <li>
        <a
          href="/services"
          onclick="document.getElementById('mobile-menu').classList.add('hidden', 'opacity-0', 'translate-y-[-10px]')"
          class="block px-4 py-2 rounded-md hover:bg-yellow-light/20 dark:hover:bg-dark-yellow-light/20"
          >Servicios</a
        >
      </li>
      <li>
        <a
          href="/contact"
          onclick="document.getElementById('mobile-menu').classList.add('hidden', 'opacity-0', 'translate-y-[-10px]')"
          class="block px-4 py-2 rounded-md hover:bg-yellow-light/20 dark:hover:bg-dark-yellow-light/20"
          >Contacto</a
        >
      </li>
      <li>
        <a
          href="/cotizar"
          onclick="document.getElementById('mobile-menu').classList.add('hidden', 'opacity-0', 'translate-y-[-10px]')"
          class="block px-4 py-2 bg-green-light hover:bg-green-dark dark:bg-dark-green-light dark:hover:bg-dark-green-dark text-white rounded-md text-center"
          >Cotiza ahora</a
        >
      </li>
      <li>
        <div class="flex justify-center pt-2">
          <ThemeToggle client:only="react" />
        </div>
      </li>
    </ul>
  </nav>
</div>
